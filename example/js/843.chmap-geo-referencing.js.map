{"version":3,"file":"843.chmap-geo-referencing.js","mappings":"kHAAAA,EAAOC,QAAU,EAAjB,O,2UCGA,IAAQC,EAAsBC,EAAAA,UAAAA,kBAEtBC,EAAUC,EAAAA,cAAAA,MAEZC,EAAkB,WAEpB,IAAIC,EAAQ,KAIZ,SAASC,IAEL,IAwBMC,EAAMC,SAASC,cAAc,OAEnCF,EAAIG,UAAY,aAChBH,EAAII,UA3BM,s8BA6BVH,SAASI,KAAKC,OAAON,GAErBA,EAAIO,cAAc,eAAeC,QAAUC,EAQ/C,SAA2BT,GAEvB,IAF4B,I,w4BAAA,CAEZA,EAAIU,iBAAiB,kBAFT,IAI5B,2BAA4B,QACnBF,QAAU,SAACG,GAEZA,EAAEC,iBAEF,IAAMC,EAASF,EAAEE,OAEXC,EAAMrB,EAAoBoB,EAAOE,GAEjCC,EAAQH,EAAOI,cAAcA,cAAcV,cAAc,2BAE/DS,EAAME,MAAQJ,EAEdE,EAAMG,QACNH,EAAMI,WAAaJ,EAAMK,aAlBL,+BAN5BC,CAAkBtB,GAElBF,EAAQH,EAAM4B,oBAAoBvB,GA3CP,SAwEhBS,IAxEgB,uEAwE/B,6FAEUK,EAAM,MAAAhB,EAAM0B,SAASjB,cAAc,2BAA2BW,OAAxD,QAFhB,SAIqC,8BAJrC,QAIYO,EAJZ,OAIYA,gBAEOX,EAAK,WANxB,4CAxE+B,sBAsG/B,MAAO,CACHY,KArBJ,SAAcC,GAEL7B,GACDC,IAKJD,EAAM4B,QAcNE,KAVJ,WAEQ9B,GACAA,EAAM8B,SAjGM,I,qBCPxB,IAAIC,EAAS,EAAQ,MAErBtC,EAAOC,QAAUqC,G,qBCFjB,IAAIC,EAAgB,EAAQ,MACxBC,EAAS,EAAQ,MAEjBC,EAAkBC,OAAOC,UAE7B3C,EAAOC,QAAU,SAAU2C,GACzB,IAAIC,EAAMD,EAAGE,KACb,MAAoB,iBAANF,GAAkBA,IAAOH,GACjCF,EAAcE,EAAiBG,IAAOC,IAAQJ,EAAgBK,KAAQN,EAASK,I,qBCRvF,EAAQ,MACR,IAAIE,EAAe,EAAQ,MAE3B/C,EAAOC,QAAU8C,EAAa,UAAUD,M,qBCHxC,IAAIR,EAAS,EAAQ,MAErBtC,EAAOC,QAAUqC,G,qBCFjB,IAAIU,EAAuB,eACvBC,EAAQ,EAAQ,MAChBC,EAAc,EAAQ,MAM1BlD,EAAOC,QAAU,SAAUkD,GACzB,OAAOF,GAAM,WACX,QAASC,EAAYC,MANf,cAOGA,MACHH,GAAwBE,EAAYC,GAAaC,OAASD,O,qBCZpE,IAAIE,EAAc,EAAQ,MACtBC,EAAyB,EAAQ,MACjCC,EAAW,EAAQ,MACnBL,EAAc,EAAQ,MAEtBM,EAAUH,EAAY,GAAGG,SACzBC,EAAa,IAAMP,EAAc,IACjCQ,EAAQC,OAAO,IAAMF,EAAaA,EAAa,KAC/CG,EAAQD,OAAOF,EAAaA,EAAa,MAGzCI,EAAe,SAAUC,GAC3B,OAAO,SAAUC,GACf,IAAIC,EAAST,EAASD,EAAuBS,IAG7C,OAFW,EAAPD,IAAUE,EAASR,EAAQQ,EAAQN,EAAO,KACnC,EAAPI,IAAUE,EAASR,EAAQQ,EAAQJ,EAAO,KACvCI,IAIXhE,EAAOC,QAAU,CAGfgE,MAAOJ,EAAa,GAGpBK,IAAKL,EAAa,GAGlBf,KAAMe,EAAa,K,iBC5BrB7D,EAAOC,QAAU,iD,kCCAjB,IAAIkE,EAAI,EAAQ,MACZC,EAAQ,aAKZD,EAAE,CAAE7C,OAAQ,SAAU+C,OAAO,EAAMC,OAJN,EAAQ,KAIMC,CAAuB,SAAW,CAC3EzB,KAAM,WACJ,OAAOsB,EAAMI,U,qBCTjB,IAAIlC,EAAS,EAAQ,MAErBtC,EAAOC,QAAUqC","sources":["webpack://chmapGeoReferencing/./node_modules/@babel/runtime-corejs3/core-js/instance/trim.js","webpack://chmapGeoReferencing/./src/js/file-import/online-file-modal.js","webpack://chmapGeoReferencing/./node_modules/core-js-pure/actual/instance/trim.js","webpack://chmapGeoReferencing/./node_modules/core-js-pure/es/instance/trim.js","webpack://chmapGeoReferencing/./node_modules/core-js-pure/es/string/virtual/trim.js","webpack://chmapGeoReferencing/./node_modules/core-js-pure/features/instance/trim.js","webpack://chmapGeoReferencing/./node_modules/core-js-pure/internals/string-trim-forced.js","webpack://chmapGeoReferencing/./node_modules/core-js-pure/internals/string-trim.js","webpack://chmapGeoReferencing/./node_modules/core-js-pure/internals/whitespaces.js","webpack://chmapGeoReferencing/./node_modules/core-js-pure/modules/es.string.trim.js","webpack://chmapGeoReferencing/./node_modules/core-js-pure/stable/instance/trim.js"],"sourcesContent":["module.exports = require(\"core-js-pure/features/instance/trim\");","\nimport { Constants, BootstrapWrap } from '@chmap/utilities';\n\nconst { EXAMPLE_FILES_DIR } = Constants;\n\nconst { Modal } = BootstrapWrap;\n\nconst OnlineFileModal = function() {\n\n    let modal = null;\n\n    let gCallback = null\n\n    function creat() {\n\n        const html =\n`<div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\">Import online IIIF manifest file</h5>\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <div class=\"mb-3\">\n            <label class=\"form-label\" for=\"onlineIIIFManifestFile\">*Url</label>\n            <input type=\"text\" id=\"onlineIIIFManifestFile\" class=\"form-control\" value=\"\">\n        </div>\n         <br>\n        <pre>\nGeoreferencing only supports one format:\nIIIF manifest.json (<a id=\"iiif-general-images.json\" class=\"example-file\"  href=\"#\">example-images</a>, <a id=\"iiif-map-images.json\" class=\"example-file\" href=\"#\">example-maps</a>)\n        </pre>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-primary import-btn\">Import</button>\n      </div>\n    </div>\n </div>`;\n\n        const div = document.createElement('div');\n\n        div.className = 'modal fade';\n        div.innerHTML = html;\n\n        document.body.append(div);\n\n        div.querySelector('.import-btn').onclick = onImport;\n\n        setExampleFileURL(div);\n\n        modal = Modal.getOrCreateInstance(div);\n\n    }\n\n    function setExampleFileURL(div) {\n\n        const hyLinks = div.querySelectorAll('.example-file');\n\n        for (const link of hyLinks) {\n            link.onclick = (e) => {\n\n                e.preventDefault();\n\n                const target = e.target;\n\n                const url = EXAMPLE_FILES_DIR + target.id;\n\n                const input = target.parentElement.parentElement.querySelector('#onlineIIIFManifestFile');\n\n                input.value = url;\n\n                input.focus();\n                input.scrollLeft = input.scrollWidth;\n\n            }\n        }\n\n    }\n\n    async function onImport() {\n\n        const url = modal._element.querySelector('#onlineIIIFManifestFile').value.trim();\n\n        const { loadOnlineFile } = await import('./file-loader');\n\n        loadOnlineFile(url, 'unknown');\n\n    }\n\n    function show(callback) {\n\n        if (!modal) {\n            creat();\n        }\n\n        gCallback = callback;\n\n        modal.show();\n\n    }\n\n    function hide() {\n\n        if (modal) {\n            modal.hide();\n        }\n\n    }\n\n    return {\n        show,\n        hide,\n    };\n\n}();\n\nexport { OnlineFileModal };\n","var parent = require('../../stable/instance/trim');\n\nmodule.exports = parent;\n","var isPrototypeOf = require('../../internals/object-is-prototype-of');\nvar method = require('../string/virtual/trim');\n\nvar StringPrototype = String.prototype;\n\nmodule.exports = function (it) {\n  var own = it.trim;\n  return typeof it == 'string' || it === StringPrototype\n    || (isPrototypeOf(StringPrototype, it) && own === StringPrototype.trim) ? method : own;\n};\n","require('../../../modules/es.string.trim');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('String').trim;\n","var parent = require('../../actual/instance/trim');\n\nmodule.exports = parent;\n","var PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar replace = uncurryThis(''.replace);\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = replace(string, ltrim, '');\n    if (TYPE & 2) string = replace(string, rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","var parent = require('../../es/instance/trim');\n\nmodule.exports = parent;\n"],"names":["module","exports","EXAMPLE_FILES_DIR","Constants","Modal","BootstrapWrap","OnlineFileModal","modal","creat","div","document","createElement","className","innerHTML","body","append","querySelector","onclick","onImport","querySelectorAll","e","preventDefault","target","url","id","input","parentElement","value","focus","scrollLeft","scrollWidth","setExampleFileURL","getOrCreateInstance","_element","loadOnlineFile","show","callback","hide","parent","isPrototypeOf","method","StringPrototype","String","prototype","it","own","trim","entryVirtual","PROPER_FUNCTION_NAME","fails","whitespaces","METHOD_NAME","name","uncurryThis","requireObjectCoercible","toString","replace","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","start","end","$","$trim","proto","forced","forcedStringTrimMethod","this"],"sourceRoot":""}